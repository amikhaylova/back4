{"version":3,"sources":["Reducers/user.js","Reducers/rootReducer.js","Validators/validators.js","Actions/UtilActions.js","Components/formsComponents.js","Components/AuthForm.js","Actions/Notifications.js","Components/Auth.js","Actions/UserAсtions.js","Components/Main.js","Components/Header.js","Components/App.js","Components/RegForm.js","Components/Registration.js","Components/NotFound.js","Actions/PointActions.js","Components/Canvas.js","Components/draw_canvas.js","Components/PointHeader.js","Components/PointForm.js","Components/PointFormHandler.js","Components/PointTable.js","Components/PointsPage.js","Utils/routes.js","Components/reqAuth.js","index.js","Middlewares/redirect.js"],"names":["initialState","jwt","auth","points","current_r","rootReducer","combineReducers","form","formReducer","user","state","action","type","payload","meta","field","NotificationManager","success","notifications","required","value","maxLength","length","matchInput","input","allInputs","reg_pas1","reg_pas2","maxPointLength","x_value","x","isNaN","parseFloat","y_value","y","r_value","r","send_notification","notification_text","console","log","dispatch","Notifications","error","object","Object","title","message","position","autoDismiss","create_notification","Input","this","props","hasError","touched","send_not","className","id","React","Component","connect","data","AuthReduxForm","reduxForm","onSubmitSuccess","result","reset","onSubmit","handleSubmit","Field","component","name","placeholder","autoComplete","validate","auth_error_notification","reg_error_notification","reg1_error_notification","suc_notification","point_notification","Auth","formData","login","bind","request","auth_login","password","auth_pas","JSON","stringify","fetch","method","headers","body","then","response","status","ok","json","answer","undefined","nextUrl","Home","Header","App","to","onlyActiveOnIndex","activeClassName","exact","children","RegReduxForm","Registration","registrate","failed_reg","suc_reg","reg_login","reg","NotFound","sendPointForm","header","concat","url","getPoints","CanvasComponent","handleClick","e","r_is_valid","toString","x_pix","y_pix","x_canvas","y_canvas","refs","canvas","clientWidth","getCP_X_pix","getCP_Y_pix","getCP_X_canvas","getCP_Y_canvas","send_form","updateCanvas","prevProps","prevState","snapshot","ctx","getContext","clearRect","width","center","radius","fillStyle","strokeStyle","beginPath","arc","Math","PI","lineTo","fill","closePath","lineWidth","moveTo","stroke","draw_canvas","map","point","redraw_point","hit","rect","draw_point","back_to_X_pix","back_to_Y_pix","br","getBoundingClientRect","left","top","clientX","clientY","toFixed","new_r","ref","height","onClick","get_points","PointHeader","logout","PointReduxForm","PointFormHandler","oldProps","newProps","PointTable","PointsPage","Canvas","routes","path","Main","AuthenticatedComponent","checkAuth","nextProps","store","reqAuth","oldState","serialisedState","window","sessionStorage","getItem","parse","err","loadState","createStore","composeWithDevTools","applyMiddleware","thunk","logger","next","browserHistory","subscribe","setItem","saveState","getState","render","history","document","getElementById"],"mappings":"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","file":"static/js/main.5cb077bb.chunk.js","sourcesContent":["import { NotificationManager } from 'react-notifications';\r\n\r\nexport const initialState = {\r\n    jwt: 'a',\r\n    auth:false,\r\n    points:[],\r\n    current_r:'',\r\n};\r\n\r\nexport function userReducer(state=initialState, action) {\r\n    switch (action.type) {\r\n        /*case 'ADD_POINT':\r\n            let new_points = state.points.push(action.payload);\r\n            return {...state, };*/\r\n        case 'CHANGE_POINTS':\r\n            return {...state, points:action.payload};\r\n        case '@@redux-form/BLUR':\r\n            if (action.meta.field == 'r'){\r\n                return {...state, current_r:action.payload}\r\n            }\r\n            return {...state};\r\n        case 'LOGIN_REQUEST':\r\n            return {...state};\r\n\r\n        case 'LOGIN_SUCCESS':\r\n            return {...state, auth:true, jwt: action.payload.jwt};\r\n\r\n        case 'LOGIN_FAIL':\r\n            //alert('Не удалось авторизоваться');\r\n            NotificationManager.success('You have added a new book!', 'Successful!', 2000);\r\n            return {...state, auth:false,};\r\n\r\n        case 'LOGOUT_SUCCESS':\r\n            return {...state, auth:false, jwt:' ', points:[], current_r:''};\r\n\r\n        case 'REG_REQUEST':\r\n            return {...state};\r\n\r\n        case 'REG_SUCCESS':\r\n            return {...state};\r\n\r\n        case 'REG_FAIL':\r\n            return {...state};\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}","import {combineReducers} from \"redux\";\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport {userReducer} from \"./user\";\r\nimport {reducer as notifications} from 'react-notification-system-redux';\r\n\r\n\r\n const rootReducer = combineReducers({\r\n    form: formReducer,\r\n    user: userReducer,\r\n    notifications: notifications,\r\n });\r\n\r\n export default rootReducer;","export const required = value =>{\r\n    if (value) return undefined;\r\n    return 'Поле обязательно для заполнения';\r\n};\r\nexport const maxLength = value =>{\r\n    if (value && value.length > 15) return \"Максимальная длина 15 символов\";\r\n    return undefined;\r\n};\r\n\r\nexport const matchInput = (input, allInputs) =>{\r\n    if (allInputs.reg_pas1 === allInputs.reg_pas2){\r\n        return undefined;\r\n    }else{\r\n        return 'Пароль не совпадает';\r\n    }\r\n};\r\n\r\nexport const maxPointLength = value =>{\r\n    if (value && value.length > 6) return \"Максимальная длина 5 символов\";\r\n    return undefined;\r\n};\r\n\r\nexport const x_value = value =>{\r\n    let x;\r\n    if (isNaN(value)){\r\n        return 'Требуется число'\r\n    }\r\n    x = parseFloat(value);\r\n    if ((x<=-5) || (x>=5)) return \"Число X должно быть в диапазоне от -5 до 5\";\r\n    return undefined;\r\n};\r\nexport const y_value = value =>{\r\n    let y;\r\n    if (isNaN(value)){\r\n        return 'Требуется число'\r\n    }\r\n    y = parseFloat(value);\r\n    if ((y<=-3) || (y>=3)) return \"Число Y должно быть в диапазоне от -3 до 3\";\r\n    return undefined;\r\n};\r\nexport const r_value = value =>{\r\n    let r;\r\n    if (isNaN(value)){\r\n        return 'Требуется число'\r\n    }\r\n    r = parseFloat(value);\r\n    if ((r<=-5) || (r>=5)) return \"Число R должно быть в диапазоне от -5 до 5\";\r\n    if (r<=0) return \"Тебуется положительное число R\";\r\n    return undefined;\r\n};","import Notifications from \"react-notification-system-redux\";\r\n\r\n\r\nexport function send_notification(notification_text) {\r\n    console.log('In send_not');\r\n    return (dispatch) => {\r\n        dispatch(Notifications.error(create_notification(notification_text)));\r\n    }\r\n}\r\n\r\nfunction create_notification(notification_text) {\r\n    const object = new Object();\r\n    object.title = 'Возникла проблема с валидацией';\r\n    object.message = notification_text;\r\n    object.position = 'tr';\r\n    object.autoDismiss = 3;\r\n    return object;\r\n}","import React from 'react';\r\nimport \"../css/forms.css\"\r\n\r\nimport {connect} from \"react-redux\";\r\nimport {send_notification} from \"../Actions/UtilActions\";\r\n\r\n\r\nclass Input extends React.Component{\r\n    render() {\r\n        let meta = this.props.meta;\r\n        let input = this.props.input;\r\n        let props = this.props;\r\n        console.log(meta.error);\r\n        const hasError = meta.touched && meta.error;\r\n        if (hasError){\r\n            this.props.send_not(meta.error);\r\n        }\r\n        return (\r\n            <div className={'formControl ' + (hasError ? 'error' : '') } >\r\n                <div>\r\n                    <input {...input} {...props} id=\"o\"/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nfunction mapStateToProps (state) {\r\n    return {\r\n    }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        send_not: (data) => dispatch(send_notification(data)),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Input)","import React from \"react\";\r\nimport {reduxForm, reset, Field} from \"redux-form\";\r\nimport {maxLength, required} from \"../Validators/validators\";\r\nimport Input from \"./formsComponents\";\r\n\r\nconst AuthForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n\r\n            <div>Введите логин:</div>\r\n            <Field component={Input} id=\"loginField\" type=\"text\"\r\n                   name=\"auth_login\" placeholder={\"Логин\"}\r\n                   autoComplete={\"off\"} validate={[required, maxLength]}/>\r\n            <div>Введите пароль:</div>\r\n            <Field component={Input} id=\"passwordField\" type=\"password\"\r\n                   name=\"auth_pas\" placeholder={\"Пароль\"} autoComplete={\"off\"}\r\n                   validate={[required, maxLength]}/>\r\n            <button>Отправить</button>\r\n\r\n        </form>\r\n    )\r\n};\r\n\r\nconst afterSubmit = (result, dispatch) =>\r\n    dispatch(reset('auth_form'));\r\n\r\nconst AuthReduxForm = reduxForm(\r\n    {\r\n        form: 'auth_form',\r\n        onSubmitSuccess: afterSubmit,\r\n    }\r\n)(AuthForm);\r\n\r\nexport default AuthReduxForm;\r\n\r\n\r\n","export const auth_error_notification = {\r\n    // uid: 'once-please', // you can specify your own uid if required\r\n    title: 'Неудачная попытка авторизации',\r\n    message: 'Что-то пошло не так :( \\nБеда-печаль-огорчение',\r\n    position: 'tc',\r\n    autoDismiss: 3, //через сколько секунд это чудо исчезнет\r\n};\r\n\r\nexport const reg_error_notification = {\r\n    // uid: 'once-please', // you can specify your own uid if required\r\n    title: 'Неудачная попытка регистрации',\r\n    message: 'Что-то пошло не так :(\\nБеда-печаль-огорчение',\r\n    position: 'tc',\r\n    autoDismiss: 3, //через сколько секунд это чудо исчезнет\r\n};\r\n\r\nexport const reg1_error_notification = {\r\n    // uid: 'once-please', // you can specify your own uid if required\r\n    title: 'Неудачная попытка регистрации',\r\n    message: 'Логин уже занят. Попробуйте придумать что-то другое.',\r\n    position: 'tc',\r\n    autoDismiss: 3, //через сколько секунд это чудо исчезнет\r\n};\r\n\r\nexport const suc_notification = {\r\n    // uid: 'once-please', // you can specify your own uid if required\r\n    title: 'Удачная попытка регистрации',\r\n    message: 'Примите наши поздравления и авторизуйтесь для дальнейшей работы с приложением.',\r\n    position: 'tc',\r\n    autoDismiss: 3, //через сколько секунд это чудо исчезнет\r\n};\r\nexport const point_notification = {\r\n    // uid: 'once-please', // you can specify your own uid if required\r\n    title: 'Неудачная попытка добавить точку',\r\n    message: 'Пожалуйста, установите валидное значение радиуса: (0...5).',\r\n    position: 'tc',\r\n    autoDismiss: 3, //через сколько секунд это чудо исчезнет\r\n};\r\n","import React from \"react\";\r\nimport AuthReduxForm from \"./AuthForm\";\r\nimport {login} from \"../Actions/UserAсtions\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nclass Auth extends React.Component {\r\n\r\n\r\n    onSubmit = (formData) => {\r\n        this.props.login(formData);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div className='content form_container'>\r\n                <h2>АВТОРИЗАЦИЯ</h2>\r\n                <AuthReduxForm onSubmit={this.onSubmit.bind(this)}/>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps (state) {\r\n    return {\r\n    }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        login: (data) => dispatch(login(data)),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Auth)\r\n","import Notifications from 'react-notification-system-redux';\r\nimport \"./Notifications\";\r\nimport {\r\n    auth_error_notification,\r\n    reg1_error_notification,\r\n    reg_error_notification,\r\n    suc_notification\r\n} from \"./Notifications\";\r\n\r\n\r\nexport function login(formData) {\r\n    var request = new Object();\r\n    request.login = formData.auth_login;\r\n    request.password = formData.auth_pas;\r\n    return (dispatch) => {\r\n\r\n        dispatch({\r\n            type: 'LOGIN_REQUEST'\r\n        });\r\n\r\n        //const url = \"http://127.0.0.1:8080/login\";\r\n        const url = \"/login\";\r\n\r\n        console.log(request);\r\n        console.log(JSON.stringify(request));\r\n\r\n        fetch(url, {\r\n            method: 'POST', // *GET, POST, PUT, DELETE, etc.\r\n            // mode: 'cors', // no-cors, cors, *same-origin\r\n            //cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n            //credentials: 'include', // include, *same-origin, omit\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                // 'Content-Type': 'application/x-www-form-urlencoded',\r\n            },\r\n            //redirect: 'follow', // manual, *follow, error\r\n            //referrer: 'no-referrer', // no-referrer, *client\r\n            body: JSON.stringify(request), // тип данных в body должен соответвовать значению заголовка \"Content-Type\"\r\n        })\r\n            .then(response => {\r\n                console.log('Status: ' + response.status);\r\n                if (!response.ok) {\r\n                    //throw new Error(response.statusText);\r\n                    dispatch(Notifications.error(auth_error_notification));\r\n                    dispatch({\r\n                        type: 'LOGIN_FAIL',\r\n                        payload: response,\r\n                    });\r\n                }\r\n                return response;\r\n            })\r\n            .then(response => response.json())\r\n            .then(answer => {\r\n                console.log(answer.jwt);\r\n                if (answer.jwt !== undefined) {\r\n                    dispatch({\r\n                        type: 'LOGIN_SUCCESS',\r\n                        payload: answer,\r\n                    });\r\n                    dispatch({\r\n                        type: 'ROUTING',\r\n                        payload: {\r\n                            method: 'replace', //или, например, replace\r\n                            nextUrl: '/points'\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport function logout() {\r\n    return {\r\n        type: 'LOGOUT_SUCCESS'\r\n    }\r\n}\r\n\r\nexport function registrate(formData) {\r\n    return (dispatch) => {\r\n\r\n        dispatch({\r\n            type: 'REG_REQUEST'\r\n        });\r\n\r\n        //const url = \"http://127.0.0.1:8080/register\";\r\n        const url = \"/register\";\r\n\r\n        console.log(\"before fetch\");\r\n        console.log(formData);\r\n        console.log(\"URL: \" + url);\r\n        var request = new Object();\r\n        request.login = formData.reg_login;\r\n        request.password = formData.reg_pas1;\r\n        console.log(request);\r\n        console.log(JSON.stringify(request));\r\n\r\n\r\n        fetch(url, {\r\n            method: 'POST', // *GET, POST, PUT, DELETE, etc.\r\n            //mode: 'no-cors', // no-cors, cors, *same-origin\r\n            //cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n            //credentials: 'include', // include, *same-origin, omit\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                // 'Content-Type': 'application/x-www-form-urlencoded',\r\n            },\r\n            //redirect: 'follow', // manual, *follow, error\r\n            //referrer: 'no-referrer', // no-referrer, *client\r\n            body: JSON.stringify(request), // тип данных в body должен соответвовать значению заголовка \"Content-Type\"\r\n        })\r\n            .then(response => {\r\n                if (!response.ok) {\r\n                    dispatch(Notifications.error(reg_error_notification));\r\n                    dispatch({\r\n                        type: 'REG_FAIL',\r\n                        payload: response,\r\n                    });\r\n                }\r\n                return response;\r\n            })\r\n            .then(response => response.json())\r\n            .then(answer => {\r\n                console.log('Reg: ' + answer.reg);\r\n                if (answer.reg == 'true') {\r\n                    dispatch(Notifications.success(suc_notification));\r\n                    dispatch({\r\n                        type: 'REG_SUCCESS',\r\n                        payload: answer,\r\n                    });\r\n                } else if (answer.reg == 'false') {\r\n                    dispatch(Notifications.error(reg1_error_notification));\r\n                    dispatch({\r\n                        type: 'REG_FAIL',\r\n                        payload: answer,\r\n                    });\r\n                }\r\n\r\n            });\r\n    }\r\n}","import React, { Component } from 'react'\r\n\r\nexport default class Home extends Component {\r\n    render() {\r\n        return (\r\n            <div className='content'>\r\n                <h2>Лабораторная работа №4</h2>\r\n                <div className='mainWrapper'>\r\n                    Никода еще ничего хуже не делала.\r\n                    <br/>\r\n                    Для работы с приложением вам необходимо авторизоваться.\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from \"react\";\r\nclass Header extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h1>\r\n                    Михайлова А.А.\r\n                    <br/>\r\n                    гр.P3211, вариант 462\r\n                </h1>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default Header;","import React, {Component}  from 'react'\r\nimport {Link} from \"react-router\";\r\nimport Header from \"./Header\";\r\nimport '../css/index.css';\r\nimport Notifications, {success} from 'react-notification-system-redux';\r\nimport {connect} from \"react-redux\";\r\n\r\nclass App extends Component {\r\n    render() {\r\n        const {notifications} = this.props;\r\n        const style = {\r\n            NotificationItem: { // Override the notification item\r\n                DefaultStyle: { // Applied to every notification, regardless of the notification level\r\n                    margin: '10px 5px 2px 1px'\r\n                },\r\n\r\n                success: { // Applied only to the success notification item\r\n                    color: 'red'\r\n                }\r\n            }\r\n        };\r\n\r\n        return (\r\n            <div >\r\n                <Header/>\r\n                <ul className=\"header\">\r\n                    <li><Link to=\"/\" onlyActiveOnIndex={true} activeClassName='active'>Главная страница</Link></li>\r\n                    <li><Link exact to=\"/login\" activeClassName='active'>Авторизация</Link></li>\r\n                    <li><Link to=\"/registration\" activeClassName='active'>Регистрация</Link></li>\r\n                </ul>\r\n                <Notifications notifications={notifications}/>\r\n                {this.props.children}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    state => ({ notifications: state.notifications })\r\n)(App);","import React, {Component} from \"react\";\r\nimport {reduxForm, reset} from \"redux-form\";\r\nimport {Field} from \"redux-form\";\r\nimport Input from \"./formsComponents\";\r\nimport {matchInput, maxLength, required} from \"../Validators/validators\";\r\n\r\nconst RegForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n\r\n            <div>\r\n                Введите логин:\r\n            </div>\r\n            <Field component={Input} id=\"loginField\" type=\"text\"\r\n                   name=\"reg_login\" placeholder={\"Логин\"} autoComplete={\"off\"}\r\n                   validate={[required, maxLength]}/>\r\n\r\n            <div>\r\n                Введите пароль:\r\n            </div>\r\n            <Field component={Input} id=\"passwordField\" type=\"password\"\r\n                   name=\"reg_pas1\" placeholder={\"Пароль\"} autoComplete={\"off\"}\r\n                   validate={[required, maxLength]}/>\r\n\r\n            <div>\r\n                Повторите пароль:\r\n            </div>\r\n            <Field component={Input} id=\"passwordField\" type=\"password\"\r\n                   name=\"reg_pas2\"\r\n                   placeholder={\"Подтвердите пароль\"} autoComplete={\"off\"}\r\n                   validate={[required, maxLength, matchInput]}/>\r\n\r\n\r\n            <button>Отправить</button>\r\n\r\n        </form>\r\n    )\r\n};\r\n\r\nconst afterSubmit = (result, dispatch) =>\r\n    dispatch(reset('reg_form'));\r\n\r\nconst RegReduxForm = reduxForm(\r\n    {\r\n        form: 'reg_form',\r\n        onSubmitSuccess: afterSubmit,\r\n    }\r\n)(RegForm);\r\n\r\nexport default RegReduxForm;\r\n\r\n\r\n","import React, { Component } from \"react\";\r\nimport RegReduxForm from \"./RegForm\";\r\nimport {registrate} from \"../Actions/UserAсtions\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\n\r\nclass Registration extends Component {\r\n\r\n    onSubmit = (formData)=>{\r\n        this.props.registrate(formData);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div className='content form_container'>\r\n                    <h2>РЕГИСТРАЦИЯ</h2>\r\n                    <RegReduxForm onSubmit={this.onSubmit.bind(this)}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps (state) {\r\n    return {\r\n        failed_reg: state.user.failed_reg,\r\n        suc_reg: state.user.suc_reg,\r\n    }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        registrate: (data) => dispatch(registrate(data)),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Registration)","import React, {Component} from 'react'\r\nimport {Link} from \"react-router\";\r\n\r\nexport default class NotFound extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                Страница не найдена. Вернуться на <Link to='/'>главную</Link>?\r\n            </div>\r\n        )\r\n    }\r\n}","import Notifications from \"react-notification-system-redux\";\r\nimport { point_notification} from \"./Notifications\";\r\n\r\nexport function sendPointForm(formData) {\r\n    console.log(formData);\r\n    return (dispatch) => {\r\n        const header = 'Bearer '.concat(formData.jwt);\r\n        const url = formData.url;\r\n        let request = new Object();\r\n        request.x = formData.x;\r\n        request.y = formData.y;\r\n        request.r = formData.r;\r\n\r\n        console.log(\"Object \" + JSON.stringify(request));\r\n        console.log(\"Header \"  + header);\r\n\r\n        fetch(url, {\r\n            method: 'POST', // *GET, POST, PUT, DELETE, etc.\r\n            //mode: 'no-cors', // no-cors, cors, *same-origin\r\n            //cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n            //credentials: 'include', // include, *same-origin, omit\r\n            headers: {\r\n                'Authorization': header,\r\n                'Content-Type': 'application/json',\r\n                // 'Content-Type': 'application/x-www-form-urlencoded',\r\n            },\r\n            //redirect: 'follow', // manual, *follow, error\r\n            //referrer: 'no-referrer', // no-referrer, *client\r\n            body: JSON.stringify(request), // тип данных в body должен соответвовать значению заголовка \"Content-Type\"\r\n        })\r\n            .then(response => {\r\n                console.log('Status: ' + response.status);\r\n                if (!response.ok) {\r\n\r\n                }\r\n                return response;\r\n            })\r\n            .then(response => response.json())\r\n            .then(answer => {\r\n                console.log(answer);\r\n                let data = new Object();\r\n                data.r = formData.r;\r\n                console.log(\"getPoints!\");\r\n\r\n                    fetch(\"/getPoints\", {\r\n                    method: 'POST', // *GET, POST, PUT, DELETE, etc.\r\n                    //mode: 'no-cors', // no-cors, cors, *same-origin\r\n                    //cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n                    //credentials: 'include', // include, *same-origin, omit\r\n                    headers: {\r\n                        'Authorization': header,\r\n                        'Content-Type': 'application/json',\r\n\r\n                        // 'Content-Type': 'application/x-www-form-urlencoded',\r\n                    },\r\n                    //redirect: 'follow', // manual, *follow, error\r\n                    //referrer: 'no-referrer', // no-referrer, *client\r\n                    body: JSON.stringify(data), // тип данных в body должен соответвовать значению заголовка \"Content-Type\"\r\n                })\r\n                    .then(response => {\r\n                        console.log('Status: ' + response.status);\r\n                        if (!response.ok) {\r\n\r\n                        }\r\n                        return response;\r\n                    })\r\n                    .then(response => response.json())\r\n                    .then(answer => {\r\n                        dispatch({\r\n                            type: 'CHANGE_POINTS',\r\n                            payload: answer,\r\n                        });\r\n                        console.log(answer);\r\n                    });\r\n            });\r\n    }\r\n}\r\n\r\nexport function getPoints(formData) {\r\n    return (dispatch) => {\r\n        const header = 'Bearer '.concat(formData.jwt);\r\n        //const url = \"http://127.0.0.1:8080/getPoints\";\r\n        const url = \"/getPoints\";\r\n        let request = new Object();\r\n        request.r = formData.r;\r\n\r\n        console.log(\"Object \" + JSON.stringify(request));\r\n        console.log(\"Header \"  + header);\r\n\r\n        fetch(url, {\r\n            method: 'POST', // *GET, POST, PUT, DELETE, etc.\r\n            //mode: 'no-cors', // no-cors, cors, *same-origin\r\n            //cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n            //credentials: 'include', // include, *same-origin, omit\r\n            headers: {\r\n                'Authorization': header,\r\n                'Content-Type': 'application/json',\r\n\r\n                // 'Content-Type': 'application/x-www-form-urlencoded',\r\n            },\r\n            //redirect: 'follow', // manual, *follow, error\r\n            //referrer: 'no-referrer', // no-referrer, *client\r\n            body: JSON.stringify(request), // тип данных в body должен соответвовать значению заголовка \"Content-Type\"\r\n        })\r\n            .then(response => {\r\n                console.log('Status: ' + response.status);\r\n                if (!response.ok) {\r\n\r\n                }\r\n                return response;\r\n            })\r\n            .then(response => response.json())\r\n            .then(answer => {\r\n                dispatch({\r\n                    type: 'CHANGE_POINTS',\r\n                    payload: answer,\r\n                });\r\n                console.log(answer);\r\n            });\r\n    }\r\n}\r\n\r\nexport function send_notification() {\r\n    return (dispatch) => {\r\n        dispatch(Notifications.error(point_notification));\r\n    }\r\n}","import React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {getPoints, sendPointForm, send_notification} from \"../Actions/PointActions\";\r\nimport {draw_canvas} from \"./draw_canvas\";\r\n\r\n\r\nclass CanvasComponent extends React.Component {\r\n\r\n    componentDidMount() {\r\n        console.log('didMountCanvas');\r\n        this.updateCanvas();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        console.log('didUpdateCanvas');\r\n        this.updateCanvas();\r\n    }\r\n\r\n    updateCanvas() {\r\n        const ctx = this.refs.canvas.getContext('2d');\r\n        ctx.clearRect(0, 0, 300, 300);\r\n        draw_canvas(ctx, this.refs.canvas.width);\r\n        this.props.points.map((point) => {\r\n            this.redraw_point(ctx, point);\r\n            return true;\r\n        })\r\n    }\r\n\r\n    handleClick = (e) => {\r\n\r\n        let r = this.props.r;\r\n        let r_is_valid = false;\r\n        if (isNaN(r)) {\r\n            r_is_valid = false;\r\n        } else {\r\n            r = parseFloat(r);\r\n            if ((r > 0) && (r < 5)&&(r.toString.length <7)) {\r\n                r_is_valid = true;\r\n            }\r\n        }\r\n\r\n        if (r_is_valid) {\r\n            let canvas = this.refs.canvas;\r\n            let center = canvas.clientWidth / 2;\r\n\r\n            let x_pix;\r\n            let y_pix;\r\n            let x_canvas;\r\n            let y_canvas;\r\n\r\n            x_pix = this.getCP_X_pix(e);\r\n            y_pix = this.getCP_Y_pix(e);\r\n            x_canvas = this.getCP_X_canvas(x_pix, this.props.r);\r\n            y_canvas = this.getCP_Y_canvas(y_pix, this.props.r);\r\n\r\n            let request = new Object();\r\n            request.x = x_canvas;\r\n            request.y = y_canvas;\r\n            request.r = this.props.r;\r\n            request.jwt = this.props.jwt;\r\n            //request.url = \"http://127.0.0.1:8080/addCanvasPoint\";\r\n            request.url = \"/addPoint\";\r\n            console.log(request);\r\n            this.props.send_form(request);\r\n        } else {\r\n            this.props.send_notification();\r\n        }\r\n    };\r\n\r\n    draw_point(ctx, x, y, hit) {\r\n\r\n        if (hit == \"yes\") {\r\n            ctx.fillStyle = 'green';\r\n        } else if (hit == \"\") {\r\n            ctx.fillStyle = 'grey';\r\n        } else {\r\n            ctx.fillStyle = 'red';\r\n        }\r\n        ctx.beginPath();\r\n        ctx.rect(x - 2.5, y - 2.5, 5, 5);\r\n        ctx.fill();\r\n    }\r\n\r\n    redraw_point(ctx, point) {\r\n\r\n        if (point.r != this.props.r) {\r\n            this.draw_point(ctx, this.back_to_X_pix(point.x, this.props.r),\r\n                this.back_to_Y_pix(point.y, this.props.r), \"\");\r\n        } else {\r\n            this.draw_point(ctx, this.back_to_X_pix(point.x, point.r),\r\n                this.back_to_Y_pix(point.y, point.r),\r\n                point.hit);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    getCP_X_pix(e) {\r\n        var br = this.refs.canvas.getBoundingClientRect();\r\n        var left = br.left;\r\n        var top = br.top;\r\n        return e.clientX - left;\r\n    }\r\n\r\n    getCP_Y_pix(e) {\r\n        var br = this.refs.canvas.getBoundingClientRect();\r\n        var left = br.left;\r\n        var top = br.top;\r\n        return e.clientY - top;\r\n    }\r\n\r\n    getCP_X_canvas(x_pix, r) {\r\n        let canvas = this.refs.canvas;\r\n        let center = canvas.clientWidth / 2;\r\n        return (r / (2 / 3 * center) * (x_pix - center)).toFixed(2);\r\n    }\r\n\r\n    getCP_Y_canvas(y_pix, r) {\r\n        let canvas = this.refs.canvas;\r\n        let center = canvas.clientWidth / 2;\r\n        return (-r / (2 / 3 * center) * (y_pix - center)).toFixed(2);\r\n    }\r\n\r\n    back_to_X_pix(x, new_r) {\r\n        let canvas = this.refs.canvas;\r\n        let center = canvas.clientWidth / 2;\r\n        return ((2 / 3 * center) * x + center * new_r) / new_r;\r\n    }\r\n\r\n    back_to_Y_pix(y, new_r) {\r\n        let canvas = this.refs.canvas;\r\n        let center = canvas.clientWidth / 2;\r\n        return (-(2 / 3 * center) * y + center * new_r) / new_r;\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n\r\n        return (\r\n            <div>\r\n                <canvas id=\"plot\" ref=\"canvas\" width={300} height={300} onClick={this.handleClick}/>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = function (state) {\r\n    return {\r\n        notifications: state.notifications,\r\n        jwt: state.user.jwt,\r\n        r: state.user.current_r,\r\n        points: state.user.points,\r\n\r\n    }\r\n};\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        send_form: (data) => dispatch(sendPointForm(data)),\r\n        get_points: (data) => dispatch(getPoints(data)),\r\n        send_notification: () => dispatch(send_notification()),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CanvasComponent);\r\n","export function draw_canvas(ctx, width) {\r\n    let center = width/2;\r\n    let radius = 2/3*center;\r\n\r\n    ctx.fillStyle = \"#0099FF\";\r\n    ctx.strokeStyle = \"black\";\r\n\r\n    //circle\r\n    ctx.beginPath();\r\n    ctx.arc(center, center, radius/2, 0, 1/2*Math.PI, false);\r\n    ctx.lineTo(center, center);\r\n    ctx.fill();\r\n\r\n    //triangle\r\n    ctx.closePath();\r\n    ctx.beginPath();\r\n    ctx.lineTo(1/3*center, center);\r\n    ctx.lineTo(center, 1/3*center);\r\n    ctx.lineTo(center, center);\r\n    ctx.fill();\r\n    ctx.closePath();\r\n\r\n    //rectangle\r\n    ctx.beginPath();\r\n    ctx.lineTo(center, 1/3*center);\r\n    ctx.lineTo(center+radius/2, 1/3*center);\r\n    ctx.lineTo(center+radius/2, center);\r\n    ctx.lineTo(center, center);\r\n    ctx.fill();\r\n    ctx.closePath();\r\n\r\n    //draw axis\r\n    ctx.strokeStyle = \"black\";\r\n    ctx.lineWidth = 0.5;\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(center, 0);\r\n    ctx.lineTo(center, 2*center);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, center);\r\n    ctx.lineTo(2*center, center);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n\r\n}\r\n\r\n","import React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport Header from \"./Header\";\r\nimport {Link} from \"react-router\";\r\nimport {logout} from \"../Actions/UserAсtions\";\r\n\r\nclass PointHeader extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Header/>\r\n                <ul className=\"header\">\r\n                    <li>\r\n                        <Link onClick={this.props.logout} activeClassName='active'>\r\n                            LogOut\r\n                        </Link>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = function (state) {\r\n    return {}\r\n};\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        logout: (data) => dispatch(logout(data)),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PointHeader)\r\n","import React from \"react\";\r\nimport {reduxForm, reset, Field} from \"redux-form\";\r\nimport {maxPointLength, required, x_value, y_value, r_value} from \"../Validators/validators\";\r\nimport Input from \"./formsComponents\";\r\n\r\nconst PointForm = (props) => {\r\n    return (\r\n\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div> Введите R:</div>\r\n            <Field component={Input} id=\"rField\" type=\"text\"\r\n                   name=\"r\" placeholder={\"(-5 ... 5)\"} autoComplete={\"off\"}\r\n                   validate={[required, maxPointLength, r_value]}/>\r\n            <div> Введите X:</div>\r\n            <Field component={Input} id=\"xField\" type=\"text\"\r\n                   name=\"x\" placeholder={\"(-5 ... 5)\"}\r\n                   autoComplete={\"off\"} validate={[required, maxPointLength, x_value]}/>\r\n            <div>Введите Y:</div>\r\n            <Field component={Input} id=\"yField\" type=\"text\"\r\n                   name=\"y\" placeholder={\"(-3 ... 3)\"} autoComplete={\"off\"}\r\n                   validate={[required, maxPointLength, y_value]}/>\r\n            <button>Проверить</button>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst afterSubmit = (result, dispatch) =>\r\n    dispatch(reset('point_form'));\r\n\r\n\r\nconst PointReduxForm = reduxForm(\r\n    {\r\n        form: 'point_form',\r\n        onSubmitSuccess: afterSubmit,\r\n    }\r\n)(PointForm);\r\n\r\nexport default PointReduxForm;\r\n\r\n\r\n","import React, {Component} from \"react\";\r\nimport PointReduxForm from \"./PointForm\";\r\nimport {logout} from \"../Actions/UserAсtions\";\r\nimport {getPoints, sendPointForm} from \"../Actions/PointActions\";\r\nimport {connect} from \"react-redux\";\r\n\r\nclass PointFormHandler extends Component{\r\n\r\n    componentDidUpdate(oldProps) {\r\n        console.log(\"in update\");\r\n        const newProps = this.props;\r\n        console.log(newProps.r);\r\n        if(oldProps.r !== newProps.r) {\r\n            let r = newProps.r;\r\n            let r_is_valid = false;\r\n            if (isNaN(r)){\r\n                r_is_valid = false;\r\n            }else{\r\n                r = parseFloat(r);\r\n                if ((r>0)&&(r<5)&&(r.toString.length <7)){\r\n                    r_is_valid=true;\r\n                }\r\n            }\r\n            if(r_is_valid){\r\n                console.log('prepare to send a request');\r\n                let formData = new Object();\r\n                formData.r = r;\r\n                formData.jwt = this.props.jwt;\r\n                this.props.get_points(formData);\r\n            }\r\n        }\r\n    }\r\n\r\n    onSubmit = (formData) => {\r\n        const jwt = this.props.jwt;\r\n        console.log(\"JWT: \" + this.props.jwt);\r\n        formData.jwt = this.props.jwt;\r\n        //formData.url = \"http://127.0.0.1:8080/addPoint\";\r\n        formData.url = \"/addPoint\";\r\n        this.props.send_form(formData);\r\n    };\r\n\r\n    render() {\r\n\r\n        let r = this.props.r;\r\n        let r_is_valid = false;\r\n        if (isNaN(r)) {\r\n            r_is_valid = false;\r\n        } else {\r\n            r = parseFloat(r);\r\n            if ((r > 0) && (r < 5)&&(r.toString().length <7 )) {\r\n                r_is_valid = true;\r\n            }\r\n        }\r\n\r\n        return (\r\n            <div className=\"object_wrapper\">\r\n                <div id=\"label\">Текущее значение R: {r_is_valid ? this.props.r : \"не установлено\"}</div>\r\n                <PointReduxForm onSubmit={this.onSubmit.bind(this)}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = function(state) {\r\n    return {\r\n        notifications: state.notifications,\r\n        jwt: state.user.jwt,\r\n        r: state.user.current_r,\r\n        points: state.user.points,\r\n\r\n    }\r\n};\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        logout: (data) => dispatch(logout(data)),\r\n        send_form: (data) => dispatch(sendPointForm(data)),\r\n        get_points: (data) => dispatch(getPoints(data)),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PointFormHandler)\r\n","import React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {DataTable} from \"primereact/datatable\";\r\nimport {Column} from \"primereact/column\";\r\n\r\nclass PointTable extends Component {\r\n\r\n    render() {\r\n        return (\r\n\r\n                <DataTable value={this.props.points} id='dataTable' >\r\n                    <Column field=\"x\" header=\"X\"/>\r\n                    <Column field=\"y\" header=\"Y\"/>\r\n                    <Column field=\"r\" header=\"R\"/>\r\n                    <Column field=\"hit\" header=\"Hit\" >\r\n                    </Column>\r\n                </DataTable>\r\n\r\n        )\r\n\r\n\r\n    }\r\n}\r\n\r\nconst mapStateToProps = function (state) {\r\n    return {\r\n        points: state.user.points,\r\n    }\r\n};\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PointTable)\r\n","import CanvasComponent from \"./Canvas\";\r\nimport React, {Component} from \"react\";\r\nimport PointHeader from \"./PointHeader\";\r\nimport PointFormHandler from \"./PointFormHandler\";\r\nimport PointTable from \"./PointTable\"\r\nimport {connect} from \"react-redux\";\r\nimport Notifications from \"react-notification-system-redux\";\r\nimport \"../css/index.css\";\r\n\r\n\r\nclass PointsPage extends Component {\r\n    render() {\r\n        const {notifications} = this.props;\r\n        return (\r\n            <div>\r\n                <PointHeader/>\r\n                <div className='content_point point_container'>\r\n                    <h2>ТОЧКИ</h2>\r\n                    <PointFormHandler/>\r\n                    <CanvasComponent/>\r\n                    <PointTable/>\r\n                    <Notifications notifications={notifications}/>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = function (state) {\r\n    return {\r\n        notifications: state.notifications,\r\n    }\r\n};\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PointsPage)","import React from \"react\";\r\nimport {IndexRoute, Route} from 'react-router';\r\nimport Auth from \"../Components/Auth\";\r\nimport Main from \"../Components/Main\";\r\nimport App from \"../Components/App\";\r\nimport Registration from \"../Components/Registration\";\r\nimport NotFound from \"../Components/NotFound\";\r\nimport PointsPage from \"../Components/PointsPage\";\r\nimport {reqAuth} from \"../Components/reqAuth\";\r\n\r\nexport const routes = (\r\n    <div>\r\n        <Route path='/' component={App}>\r\n            <IndexRoute component={Main} />\r\n            <Route path='/login' component={Auth} />\r\n            <Route path='/registration' component={Registration}/>\r\n        </Route>\r\n        <Route path='/points' component={reqAuth(PointsPage)} />\r\n        <Route path='*' component={NotFound} />\r\n    </div>\r\n);","import React from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nexport function reqAuth(Component) {\r\n\r\n    class AuthenticatedComponent extends React.Component {\r\n        componentWillMount() {\r\n            this.checkAuth(this.props.user)\r\n        }\r\n        componentWillReceiveProps(nextProps) {\r\n            this.checkAuth(nextProps.user)\r\n        }\r\n        checkAuth(user) {\r\n            if (!user.auth) {\r\n                this.props.dispatch({\r\n                    type: 'ROUTING',\r\n                    payload: {\r\n                        method: 'replace',\r\n                        nextUrl: '/login'\r\n                    }\r\n                })\r\n            }\r\n        }\r\n        render() {\r\n            return (\r\n                <div>\r\n                    {this.props.user.auth === true\r\n                        ? <Component {...this.props} />\r\n                        : null\r\n                    }\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    function mapStateToProps(store) {\r\n        return {\r\n            user: store.user\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToProps)(AuthenticatedComponent)\r\n}","import 'bootstrap/dist/css/bootstrap.min.css';\nimport React from \"react\";\nimport { render } from 'react-dom'\nimport \"./css/index.css\";\nimport { createStore, applyMiddleware } from 'redux';\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"./Reducers/rootReducer\";\nimport {Provider} from \"react-redux\";\nimport {composeWithDevTools} from \"redux-devtools-extension\";\nimport logger from \"redux-logger\";\nimport {Router, browserHistory} from 'react-router';\nimport {routes} from \"./Utils/routes\";\nimport {redirect} from \"./Middlewares/redirect\";\n\nconst saveState = (state) => {\n    try {\n        // Convert the state to a JSON string\n        const serialisedState = JSON.stringify(state);\n\n        // Save the serialised state to localStorage against the key 'app_state'\n        window.sessionStorage.setItem('app_state', serialisedState);\n    } catch (err) {\n        // Log errors here, or ignore\n    }\n};\n\n/**\n * This function checks if the app state is saved in localStorage\n */\nconst loadState = () => {\n    try {\n        // Load the data saved in localStorage, against the key 'app_state'\n        const serialisedState = window.sessionStorage.getItem('app_state');\n\n        // Passing undefined to createStore will result in our app getting the default state\n        // If no data is saved, return undefined\n        if (!serialisedState) return undefined;\n\n        // De-serialise the saved state, and return it.\n        return JSON.parse(serialisedState);\n    } catch (err) {\n        // Return undefined if localStorage is not available,\n        // or data could not be de-serialised,\n        // or there was some other error\n        return undefined;\n    }\n};\n\n/**\n * This is where you create the app store\n */\nconst oldState = loadState();\n\n\nconst store = createStore(\n    rootReducer,\n    oldState,\n    composeWithDevTools(applyMiddleware(thunk, logger, redirect)),\n\n);\n/**\n * Add a change listener to the store, and invoke our saveState function defined above.\n */\n\nstore.subscribe(() => {\n    saveState(store.getState());\n});\n\n\n\nwindow.store = store;\n\nrender(\n    (<Provider store={store}>\n        <Router history={browserHistory} routes={routes} />\n    </Provider>),\n    document.getElementById('root')\n);","import { browserHistory } from 'react-router'\r\n\r\nexport const redirect = store => next => action => { //eslint-disable-line no-unused-vars\r\n    if (action.type === 'ROUTING') {\r\n        browserHistory[action.payload.method](action.payload.nextUrl)\r\n    }\r\n\r\n    return next(action)\r\n}"],"sourceRoot":""}